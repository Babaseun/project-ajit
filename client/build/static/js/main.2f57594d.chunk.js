(this.webpackJsonpuserinterface=this.webpackJsonpuserinterface||[]).push([[0],{113:function(e,t,s){},136:function(e,t,s){},137:function(e,t,s){},138:function(e,t,s){},139:function(e,t,s){},140:function(e,t,s){},259:function(e,t,s){"use strict";s.r(t);var c=s(1),a=s(0),n=s.n(a),r=s(29),i=s.n(r),l=(s(113),s(2)),o=s.n(l),j=s(6),u=s(3),d=s(5),m=s(28),b=(s(47),{isLoggedIn:localStorage.getItem("x-access-token"),onAuthenticated:function(){this.isLoggedIn=localStorage.getItem("x-access-token")},getLoggedInStatus:function(){return this.isLoggedIn}}),p=s(8),h=s.n(p);var x=function(){var e=Object(d.f)(),t=Object(m.a)(),s=t.register,a=t.handleSubmit,r=t.errors,i=n.a.useState(""),l=Object(u.a)(i,2),p=l[0],x=l[1],O=n.a.useState(""),f=Object(u.a)(O,2),g=f[0],v=f[1],N=function(){var t=Object(j.a)(o.a.mark((function t(s){var c,a,n,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h.a.post("/login",s);case 3:c=t.sent,b.onAuthenticated(),localStorage.setItem("x-access-token",c.data.token),x(""),a={headers:{"x-access-token":localStorage.getItem("x-access-token")}},h.a.get("/api/user",a).then((function(t){v(t.data.role),"customer"===g?e.push("/map"):e.push("/product")})),t.next=16;break;case 11:t.prev=11,t.t0=t.catch(0),n=Object(u.a)(t.t0.response.data,1),r=n[0],console.log(r.msg),x(r.msg);case 16:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}();return Object(c.jsxs)("div",{className:"login__container",children:[Object(c.jsx)("div",{className:"login-input-group",children:Object(c.jsxs)("div",{className:"login-input",children:[Object(c.jsx)("h1",{className:"login__text",children:"Login Here"}),Object(c.jsxs)("form",{onSubmit:a(N),method:"POST",children:[Object(c.jsxs)("div",{className:"input-field",children:[Object(c.jsx)("label",{children:"Email"}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("input",{type:"email",name:"email",className:"input form-control",ref:s({required:!0})}),r.email&&"Please enter your email.",p?Object(c.jsx)("div",{children:p}):null]})]}),Object(c.jsxs)("div",{className:"input-field",children:[Object(c.jsx)("label",{children:"Password"}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("input",{type:"password",name:"password",className:"input form-control",ref:s({required:!0})}),r.email&&"Please enter your password."]})]}),Object(c.jsx)("button",{className:"btn btn-success",type:"submit",children:"Login"})]})]})}),Object(c.jsx)("div",{className:"login__image-group",children:Object(c.jsx)("img",{className:"login__image",src:"/images/undraw_online_payments_luau.svg",alt:"login.png"})})]})},O=s(13),f=s(4);var g=function(e){return Object(c.jsx)("div",{children:Object(c.jsxs)("button",{type:"submit",children:[Object(c.jsx)("i",{class:e.icon}),e.children]})})},v=[{icon:"fas fa-plus-circle",title:"Messages",linkTo:""},{icon:"fas fa-plus-circle",title:"Payments",linkTo:"payment"},{icon:"fas fa-plus-circle",title:"Transactions",linkTo:""},{icon:"fas fa-plus-circle",title:"Explore",linkTo:""},{icon:"fas fa-plus-circle",title:"Settings",linkTo:""},{icon:"fas fa-plus-circle",title:"Help",linkTo:""}];s(136);var N=function(e){return Object(c.jsxs)("div",{className:"items",children:[e.title?Object(c.jsx)("h3",{children:e.title}):Object(c.jsx)("i",{className:e.leftIcon}),Object(c.jsx)(O.b,{to:"/".concat(e.linkTo),children:Object(c.jsx)("i",{className:e.icon})})]})};s(137);var _=function(){var e=n.a.useState(Object(f.a)(v)),t=Object(u.a)(e,2),s=t[0];return t[1],Object(c.jsxs)("div",{className:"payment",children:[Object(c.jsxs)("div",{className:"payment__columns",children:[Object(c.jsx)("i",{className:"fas fa-long-arrow-alt-left icons"}),Object(c.jsx)("h3",{children:"Payment"})]}),Object(c.jsxs)("div",{className:"payment__columns",children:[Object(c.jsxs)("div",{className:"payment__column",children:[Object(c.jsx)("h3",{children:"aJIT Cash"}),Object(c.jsxs)("div",{className:"payment__data",children:[Object(c.jsx)("h1",{children:"NGN 5700.00"}),Object(c.jsx)("i",{class:"fas fa-chevron-right card-arrow icons"})]}),Object(c.jsx)("div",{className:"payment-button",children:Object(c.jsx)(g,{icon:"fas fa-plus",children:"Add Funds"})})]}),Object(c.jsx)("div",{className:"payment-text",children:"Payment Methods"})]}),Object(c.jsxs)("div",{className:"payment__columns",children:[s.map((function(e,t){return Object(c.jsx)("div",{className:"nav-item payment-process",children:Object(c.jsx)(N,{leftIcon:"fab fa-cc-visa payment-icons payment-left-icon icons",linkTo:"mmmmmmmmmmmmm",icon:"fas fa-chevron-right payment-icons payment-right-icon icons"},t)})})),Object(c.jsx)("div",{className:"nav-item payment-process",children:"Add Payment Method"})]})]})};var y=function(){var e=Object(d.f)(),t=Object(m.a)(),s=t.register,a=t.handleSubmit,r=t.errors,i=n.a.useState([]),l=Object(u.a)(i,2),p=l[0],x=l[1],O=n.a.useState(""),g=Object(u.a)(O,2),v=g[0],N=g[1],_=function(){var t=Object(j.a)(o.a.mark((function t(s){var c,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h.a.post("http://localhost:4001/register",s);case 3:c=t.sent,b.onAuthenticated(),localStorage.setItem("x-access-token",c.data.token),x([]),a={headers:{"x-access-token":localStorage.getItem("x-access-token")}},h.a.get("http://localhost:4001/api/user",a).then((function(t){N(t.data.role),"customer"===v&&e.push("/map"),"business"===v?e.push("/product"):e.push("/")})),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),x(Object(f.a)(t.t0.response.data));case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}();return Object(c.jsxs)("div",{className:"login__container",children:[Object(c.jsx)("div",{className:"login-input-group",children:Object(c.jsxs)("div",{className:"login-input",children:[Object(c.jsx)("h1",{className:"login__text",children:"Register Here"}),p?Object(c.jsx)("ul",{children:p.map((function(e,t){return Object(c.jsx)("li",{children:e.msg},t)}))}):null,Object(c.jsxs)("form",{onSubmit:a(_),method:"POST",children:[Object(c.jsxs)("div",{className:"input-field",children:[Object(c.jsx)("label",{children:"FirstName"}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("input",{type:"text",name:"firstName",className:"input form-control",ref:s({required:!0})}),r.firstName&&Object(c.jsx)("div",{className:"text-danger",children:"Please enter your firstName."})]})]}),Object(c.jsxs)("div",{className:"input-field",children:[Object(c.jsx)("label",{children:"LastName"}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("input",{type:"text",name:"lastName",className:"input form-control",ref:s({required:!0})}),r.lastName&&Object(c.jsx)("div",{className:"text-danger",children:"Please enter your lastname."})]})]}),Object(c.jsxs)("div",{className:"input-field",children:[Object(c.jsx)("label",{children:"Email"}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("input",{type:"email",name:"email",className:"input form-control",ref:s({required:!0})}),r.email&&Object(c.jsx)("div",{className:"text-danger",children:"Please enter your email."})]})]}),Object(c.jsxs)("div",{className:"input-field",children:[Object(c.jsx)("label",{children:"Password"}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("input",{type:"password",name:"password",className:"input form-control",ref:s({required:!0})}),r.password&&"Please enter your password."]})]}),Object(c.jsxs)("div",{className:"input-field",children:[Object(c.jsx)("label",{children:"ConfirmPassword"}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("input",{type:"password",name:"confirmPassword",className:"input form-control",ref:s({required:!0})}),r.confirmPassword&&"Please enter your password."]})]}),Object(c.jsx)("div",{className:"form-check",children:Object(c.jsxs)("label",{children:[Object(c.jsx)("input",{type:"radio",name:"role",defaultChecked:!0,className:"form-check-input",ref:s(),value:"customer"}),"Are you registering as a customer"]})}),Object(c.jsx)("h1",{children:"OR"}),Object(c.jsx)("div",{className:"form-check",children:Object(c.jsxs)("label",{className:"form-check-label",children:[Object(c.jsx)("input",{type:"radio",name:"role",className:"form-check-input",ref:s(),value:"business"}),"Are you registering as a business"]})}),Object(c.jsx)("button",{className:"btn btn-success",type:"submit",children:"Register"})]})]})}),Object(c.jsx)("div",{className:"login__image-group",children:Object(c.jsx)("img",{className:"login__image",src:"/images/undraw_online_payments_luau.svg",alt:"login.png"})})]})},k=s(261);var S=function(){var e=Object(d.f)(),t=Object(m.a)(),s=t.register,r=t.handleSubmit,i=t.errors,l=n.a.useState([]),b=Object(u.a)(l,2),p=b[0],x=(b[1],n.a.useState("")),O=Object(u.a)(x,2),f=O[0],g=O[1],v=function(){var e=Object(j.a)(o.a.mark((function e(t){var s,c,a,n,r,i,l,u,d,m,b;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=Object(k.a)(),c=Object(k.a)(),a={headers:{"x-access-token":localStorage.getItem("x-access-token")}},n=t.productImage,r=t.price,i=t.description,l=t.lng,u=t.lat,e.next=6,_(n);case 6:return d=e.sent,e.next=9,h.a.post("http://localhost:4001/api/products",{price:r,description:i,imageId:s},a);case 9:return m=e.sent,e.next=12,h.a.post("http://localhost:4001/api/coords",{coords:{lng:l,lat:u,imageId:s,productId:c}},a);case 12:b=e.sent,d.forEach(function(){var e=Object(j.a)(o.a.mark((function e(t){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.post("http://localhost:4001/api/upload",{file:t,imageId:s},a);case 2:c=e.sent,console.log(c);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Promise.all([m,b]).then((function(e){return console.log(e)})).catch((function(e){return console.log(e.response)}));case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(e){return new Promise((function(t,s){var c=new FileReader;c.readAsDataURL(e),c.onload=function(){return t(c.result)},c.onerror=function(e){return s(e)}}))},_=function(){var e=Object(j.a)(o.a.mark((function e(t){var s,c,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=[],c=0;case 2:if(!(c<t.length)){e.next=10;break}return e.next=5,N(t[c]);case 5:a=e.sent,s.push(a);case 7:c++,e.next=2;break;case 10:return e.abrupt("return",s);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){var t={headers:{"x-access-token":localStorage.getItem("x-access-token")}};h.a.get("http://localhost:4001/api/user",t).then((function(t){g(t.data.role),void 0===f&&"customer"===f&&e.push("/")})).catch((function(t){t&&e.push("/register")}))}),[e,f]),Object(c.jsxs)("div",{className:"login__container",children:[Object(c.jsx)("div",{className:"login-input-group",children:Object(c.jsxs)("div",{className:"login-input",children:[Object(c.jsx)("h1",{className:"login__text",children:"Add Product"}),p?Object(c.jsx)("ul",{children:p.map((function(e,t){return Object(c.jsx)("li",{children:e.msg},t)}))}):null,Object(c.jsxs)("form",{onSubmit:r(v),method:"POST",children:[Object(c.jsxs)("div",{className:"input-field",children:[Object(c.jsx)("label",{className:"mb-3",children:"Product Image"}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("input",{type:"file",name:"productImage",className:"form-control-file",ref:s({required:!0}),multiple:!0}),i.productImage&&Object(c.jsx)("div",{className:"text-danger",children:"Please enter product image ."})]})]}),Object(c.jsxs)("div",{className:"input-field mt-3",children:[Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{children:"Description"}),Object(c.jsx)("textarea",{className:"form-control",rows:"5",cols:"5",ref:s({required:!0}),name:"description"})]}),i.description&&Object(c.jsx)("div",{className:"text-danger",children:"Please enter description."})]}),Object(c.jsxs)("div",{className:"input-field",children:[Object(c.jsx)("label",{children:"Price"}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("input",{type:"text",name:"price",className:"input form-control",ref:s({required:!0})}),i.price&&Object(c.jsx)("div",{className:"text-danger",children:"Please enter your price."})]})]}),Object(c.jsxs)("div",{className:"input-field",children:[Object(c.jsx)("label",{children:"Longitude"}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("input",{type:"text",name:"lng",className:"input form-control",ref:s({required:!0})}),i.price&&Object(c.jsx)("div",{className:"text-danger",children:"Please enter your Longitude."})]})]}),Object(c.jsxs)("div",{className:"input-field",children:[Object(c.jsx)("label",{children:"Latitude"}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("input",{type:"text",name:"lat",className:"input form-control",ref:s({required:!0})}),i.price&&Object(c.jsx)("div",{className:"text-danger",children:"Please enter your Latitude."})]})]}),Object(c.jsx)("button",{className:"btn btn-success",type:"submit",children:"Save Product"})]})]})}),Object(c.jsx)("div",{className:"login__image-group",children:Object(c.jsx)("img",{className:"login__image",src:"/images/undraw_online_payments_luau.svg",alt:"login.png"})})]})},w=s(106),P=function(e){return Object(c.jsx)(d.b,{path:e.path,render:function(t){return b.getLoggedInStatus()?Object(c.jsx)(e.component,Object(w.a)({},t)):Object(c.jsx)(d.a,{to:{pathname:"/register"}})}})},I=s(35);s(138),s(139);var T=function(e){var t=Object(a.useState)({}),s=Object(u.a)(t,2),n=s[0],r=s[1],i=Object(a.useState)(Object(f.a)(v)),l=Object(u.a)(i,1)[0];return Object(a.useEffect)((function(){var e=localStorage.getItem("x-access-token");h.a.get("/api/user",{headers:{"x-access-token":e}}).then((function(e){return r(e.data)}))}),[]),Object(c.jsxs)("div",{className:"navigation",children:[Object(c.jsx)("div",{className:"navigation__columns",children:Object(c.jsx)("i",{onClick:e.backArrow,className:"fas fa-long-arrow-alt-left icons"})}),Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:"navigation__columns",children:Object(c.jsxs)("div",{className:"navigation__info",children:[Object(c.jsx)("i",{className:"fas fa-user icons"}),Object(c.jsx)("div",{className:"navigation__user-info",children:Object(c.jsxs)("div",{className:"user-name",children:[Object(c.jsx)("h2",{children:"".concat(n.firstName," ").concat(n.lastName)},n.id),Object(c.jsx)("i",{className:"fas fa-star-half-alt icons"}),Object(c.jsx)("i",{className:"fas fa-star icons"}),Object(c.jsx)("i",{className:"far fa-star icons"})]})})]})}),Object(c.jsx)("div",{className:"navigation__columns",children:l.map((function(e,t){return Object(c.jsx)("div",{className:"nav-item",children:Object(c.jsx)(N,{icon:e.icon,title:e.title,linkTo:e.linkTo},t)},t)}))})]})]})};s(140);var L=function(e){return Object(c.jsx)("div",{className:e.display,children:Object(c.jsx)("i",{className:"fa fa-bars","aria-hidden":"true",onClick:e.navMenuClicked})})};var C=function(){return Object(c.jsxs)("div",{className:"map__item",children:[Object(c.jsx)("div",{className:"map__first-item--brand",children:Object(c.jsx)("h1",{children:"aJIT"})}),Object(c.jsxs)("div",{className:"map__second-item--links",children:[Object(c.jsx)(O.b,{to:"/login",children:"Login"}),Object(c.jsx)("div",{children:"or"}),Object(c.jsx)(O.b,{to:"/register",children:"Signup"})]})]})},E=s(107),A=function(){var e=Object(a.useState)([]),t=Object(u.a)(e,2),s=t[0],r=t[1],i=Object(a.useState)(null),l=Object(u.a)(i,2),m=l[0],p=l[1],x=Object(a.useState)(!1),O=Object(u.a)(x,2),g=O[0],v=O[1],N=Object(a.useState)(""),_=Object(u.a)(N,2),y=_[0],k=_[1],S=Object(a.useState)(""),w=Object(u.a)(S,2),P=w[0],A=w[1],q=Object(a.useState)(),D=Object(u.a)(q,2),F=(D[0],D[1]),R=Object(d.f)(),H=function(){var e=Object(j.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return[],e.next=3,h.a.get("/api/images");case 3:return t=e.sent,console.log(),F(t.data),e.next=8,h.a.get("/api/coords");case 8:e.sent;case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=function(){v(!g),k(""===y?"display":"")};Object(a.useEffect)((function(){var e={headers:{"x-access-token":localStorage.getItem("x-access-token")}};h.a.get("/api/user",e).then((function(e){A(e.data.role),"customer"===P&&R.push("/map"),"business"===P?R.push("/product"):R.push("/")})),H()}),[P,R]);var K=n.a.useCallback((function(e){r((function(t){return[].concat(Object(f.a)(t),[{lat:e.latLng.lat(),lng:e.latLng.lng(),time:new Date}])}))}),[]);E.Image;var J=Object(I.d)({googleMapsApiKey:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).APP_API_KEY,libraries:["places"]}),U=J.isLoaded;return J.loadError?"Error loading maps":U?(console.log(P),Object(c.jsxs)("div",{children:[g?Object(c.jsx)(T,{backArrow:M}):null,Object(c.jsxs)("div",{className:"map",children:[Object(c.jsx)("div",{className:"map__columns",children:Object(c.jsxs)("div",{className:"map__item",children:[P?Object(c.jsx)(L,{display:y,navMenuClicked:M}):null,P?null:Object(c.jsx)(C,{})]})}),Object(c.jsx)("div",{className:"map__columns",children:Object(c.jsxs)(I.a,{mapContainerStyle:{height:"100%",width:"100%"},zoom:8,center:{lat:6.6194,lng:3.5105},options:{disableDefaultUI:!0,zoomControl:!0},onClick:K,children:[b.getLoggedInStatus()?s.map((function(e){return Object(c.jsx)(I.c,{position:{lat:e.lat,lng:e.lng},onClick:function(){p(e)}},e.time.toISOString())})):null,m?Object(c.jsx)(I.b,{position:{lat:Number(m.lat),lng:Number(m.lng)},onCloseClick:function(){return p(null)},children:Object(c.jsx)("div",{children:"HI"})}):null]})})]})]})):"Loading maps"};var q=function(){return Object(c.jsx)("div",{className:"main",children:Object(c.jsxs)(O.a,{children:[Object(c.jsx)(d.b,{exact:!0,path:"/login",component:x}),Object(c.jsx)(d.b,{exact:!0,path:"/",component:A}),Object(c.jsx)(d.b,{exact:!0,path:"/payment",component:_}),Object(c.jsx)(d.b,{exact:!0,path:"/register",component:y}),Object(c.jsx)(P,{exact:!0,path:"/product",component:S}),Object(c.jsx)(P,{exact:!0,path:"/map",component:A})]})})},D=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,262)).then((function(t){var s=t.getCLS,c=t.getFID,a=t.getFCP,n=t.getLCP,r=t.getTTFB;s(e),c(e),a(e),n(e),r(e)}))};i.a.render(Object(c.jsx)(n.a.StrictMode,{children:Object(c.jsx)(q,{})}),document.getElementById("root")),D()},47:function(e,t,s){}},[[259,1,2]]]);
//# sourceMappingURL=main.2f57594d.chunk.js.map