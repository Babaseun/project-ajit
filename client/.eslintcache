[{"C:\\Users\\hp\\Desktop\\project2\\react-express-project\\backend\\client\\src\\index.js":"1","C:\\Users\\hp\\Desktop\\project2\\react-express-project\\backend\\client\\src\\App.js":"2","C:\\Users\\hp\\Desktop\\project2\\react-express-project\\backend\\client\\src\\reportWebVitals.js":"3","C:\\Users\\hp\\Desktop\\project2\\react-express-project\\backend\\client\\src\\components\\Payments\\Payment.jsx":"4","C:\\Users\\hp\\Desktop\\project2\\react-express-project\\backend\\client\\src\\components\\Login\\Login.jsx":"5","C:\\Users\\hp\\Desktop\\project2\\react-express-project\\backend\\client\\src\\components\\Product\\Product.jsx":"6","C:\\Users\\hp\\Desktop\\project2\\react-express-project\\backend\\client\\src\\components\\Registration\\Register.jsx":"7","C:\\Users\\hp\\Desktop\\project2\\react-express-project\\backend\\client\\src\\components\\PrivateRoutes\\PrivateRoutes.jsx":"8","C:\\Users\\hp\\Desktop\\project2\\react-express-project\\backend\\client\\src\\components\\Map\\MainMap.jsx":"9","C:\\Users\\hp\\Desktop\\project2\\react-express-project\\backend\\client\\src\\Auth.js":"10","C:\\Users\\hp\\Desktop\\project2\\react-express-project\\backend\\client\\src\\components\\NavigationMenu\\links.js":"11","C:\\Users\\hp\\Desktop\\project2\\react-express-project\\backend\\client\\src\\components\\Buttons\\Button.jsx":"12","C:\\Users\\hp\\Desktop\\project2\\react-express-project\\backend\\client\\src\\components\\NavigationMenu\\NavItem\\NavItem.jsx":"13","C:\\Users\\hp\\Desktop\\project2\\react-express-project\\backend\\client\\src\\components\\NavigationMenu\\NavigationMenu.jsx":"14","C:\\Users\\hp\\Desktop\\project2\\react-express-project\\backend\\client\\src\\components\\SideBar\\SideBar.jsx":"15","C:\\Users\\hp\\Desktop\\project2\\react-express-project\\backend\\client\\src\\components\\Hamburger\\Hamburger.jsx":"16"},{"size":708,"mtime":1610214820520,"results":"17","hashOfConfig":"18"},{"size":908,"mtime":1610214820498,"results":"19","hashOfConfig":"18"},{"size":375,"mtime":1610214820522,"results":"20","hashOfConfig":"18"},{"size":1590,"mtime":1610214820513,"results":"21","hashOfConfig":"18"},{"size":2975,"mtime":1610222366091,"results":"22","hashOfConfig":"18"},{"size":6693,"mtime":1610226235544,"results":"23","hashOfConfig":"18"},{"size":5668,"mtime":1610222482584,"results":"24","hashOfConfig":"18"},{"size":423,"mtime":1610214820515,"results":"25","hashOfConfig":"18"},{"size":4917,"mtime":1610232240129,"results":"26","hashOfConfig":"18"},{"size":251,"mtime":1610214820498,"results":"27","hashOfConfig":"18"},{"size":547,"mtime":1610214820511,"results":"28","hashOfConfig":"18"},{"size":235,"mtime":1610214820500,"results":"29","hashOfConfig":"18"},{"size":435,"mtime":1610214820509,"results":"30","hashOfConfig":"18"},{"size":1801,"mtime":1610214820511,"results":"31","hashOfConfig":"18"},{"size":440,"mtime":1610214820519,"results":"32","hashOfConfig":"18"},{"size":310,"mtime":1610214820501,"results":"33","hashOfConfig":"18"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},"249f09",{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"43","usedDeprecatedRules":"36"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"48","usedDeprecatedRules":"36"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"55","usedDeprecatedRules":"36"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"68"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},"C:\\Users\\hp\\Desktop\\project2\\react-express-project\\backend\\client\\src\\index.js",[],["71","72"],"C:\\Users\\hp\\Desktop\\project2\\react-express-project\\backend\\client\\src\\App.js",[],"C:\\Users\\hp\\Desktop\\project2\\react-express-project\\backend\\client\\src\\reportWebVitals.js",[],"C:\\Users\\hp\\Desktop\\project2\\react-express-project\\backend\\client\\src\\components\\Payments\\Payment.jsx",["73"],"import React from 'react';\r\nimport Button from '../Buttons/Button';\r\nimport { navLinks } from '../NavigationMenu/links';\r\nimport NavItem from '../NavigationMenu/NavItem/NavItem';\r\n\r\nimport './paymentStyle.scss';\r\n\r\nfunction Payment() {\r\n  const [navItems, setNavItems] = React.useState([...navLinks]);\r\n  return (\r\n    <div className=\"payment\">\r\n      <div className=\"payment__columns\">\r\n        <i className=\"fas fa-long-arrow-alt-left icons\"></i>\r\n        <h3>Payment</h3>\r\n      </div>\r\n      <div className=\"payment__columns\">\r\n        <div className=\"payment__column\">\r\n          <h3>aJIT Cash</h3>\r\n          <div className=\"payment__data\">\r\n            <h1>NGN 5700.00</h1>\r\n            <i class=\"fas fa-chevron-right card-arrow icons\"></i>\r\n          </div>\r\n          <div className=\"payment-button\">\r\n            <Button icon=\"fas fa-plus\">Add Funds</Button>\r\n          </div>\r\n        </div>\r\n        <div className=\"payment-text\">Payment Methods</div>\r\n      </div>\r\n      <div className=\"payment__columns\">\r\n        {navItems.map((item, index) => (\r\n          <div className=\"nav-item payment-process\">\r\n            <NavItem\r\n              key={index}\r\n              leftIcon={'fab fa-cc-visa payment-icons payment-left-icon icons'}\r\n              linkTo={'mmmmmmmmmmmmm'}\r\n              icon={\r\n                'fas fa-chevron-right payment-icons payment-right-icon icons'\r\n              }\r\n            />\r\n          </div>\r\n        ))}\r\n        <div className=\"nav-item payment-process\">Add Payment Method</div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Payment;\r\n","C:\\Users\\hp\\Desktop\\project2\\react-express-project\\backend\\client\\src\\components\\Login\\Login.jsx",[],"C:\\Users\\hp\\Desktop\\project2\\react-express-project\\backend\\client\\src\\components\\Product\\Product.jsx",["74"],"import React, { useEffect } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { v4 as uuid } from 'uuid';\r\nimport { useForm } from 'react-hook-form';\r\nimport '../Login/login-style.scss';\r\nimport axios from 'axios';\r\n\r\nfunction Product() {\r\n  const history = useHistory();\r\n  const { register, handleSubmit, errors } = useForm();\r\n  const [errs, setErrors] = React.useState([]);\r\n  const [role, setRole] = React.useState('');\r\n  const [successMsg, setMsg] = React.useState('');\r\n  const logout = () => {\r\n    localStorage.removeItem('x-access-token');\r\n    history.push('/login');\r\n  };\r\n  const onSubmitProduct = async (data) => {\r\n    const imageID = uuid();\r\n    const productID = uuid();\r\n    setMsg('');\r\n    const config = {\r\n      headers: {\r\n        'x-access-token': localStorage.getItem('x-access-token'),\r\n      },\r\n    };\r\n    const { productImage, price, description, lng, lat } = data;\r\n    const base64Img = await convertToBase64(productImage);\r\n    const firstResult = await axios.post(\r\n      'http://localhost:4001/api/products',\r\n      { price, description, imageId: imageID },\r\n      config\r\n    );\r\n    const secondResult = await axios.post(\r\n      'http://localhost:4001/api/coords',\r\n      { coords: { lng, lat, imageId: imageID, productId: productID } },\r\n      config\r\n    );\r\n    base64Img.forEach(async (img) => {\r\n      const thirdResult = await axios.post(\r\n        'http://localhost:4001/api/upload',\r\n        {\r\n          file: img,\r\n          imageId: imageID,\r\n        },\r\n        config\r\n      );\r\n      console.log(thirdResult);\r\n    });\r\n    Promise.all([firstResult, secondResult])\r\n      .then((res) => {\r\n        setMsg('Saved successfully');\r\n        console.log(res);\r\n      })\r\n      .catch((err) => console.log(err.response));\r\n  };\r\n\r\n  const getBase64 = (file) => {\r\n    return new Promise((resolve, reject) => {\r\n      const reader = new FileReader();\r\n      reader.readAsDataURL(file);\r\n      reader.onload = () => resolve(reader.result);\r\n      reader.onerror = (error) => reject(error);\r\n    });\r\n  };\r\n  const convertToBase64 = async (files) => {\r\n    const results = [];\r\n    for (let i = 0; i < files.length; i++) {\r\n      const data = await getBase64(files[i]);\r\n      results.push(data);\r\n    }\r\n    return results;\r\n  };\r\n  useEffect(() => {\r\n    const config = {\r\n      headers: {\r\n        'x-access-token': localStorage.getItem('x-access-token'),\r\n      },\r\n    };\r\n    axios\r\n      .get('http://localhost:4001/api/user', config)\r\n      .then((res) => {\r\n        setRole(res.data.role);\r\n        if (role === undefined && role === 'customer') {\r\n          history.push('/');\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        if (err) history.push('/register');\r\n      });\r\n  }, [history, role]);\r\n  return (\r\n    <div className=\"login__container\">\r\n      <div className=\"login-input-group\">\r\n        <div className=\"login-input\">\r\n          <h1 className=\"login__text\">Add Product</h1>\r\n          {successMsg}\r\n\r\n          {errs ? (\r\n            <ul>\r\n              {errs.map((err, index) => (\r\n                <li key={index}>{err.msg}</li>\r\n              ))}\r\n            </ul>\r\n          ) : null}\r\n          <form onSubmit={handleSubmit(onSubmitProduct)} method=\"POST\">\r\n            <div className=\"input-field\">\r\n              <label className=\"mb-3\">Product Image</label>\r\n              <div className=\"form-group\">\r\n                <input\r\n                  type=\"file\"\r\n                  name=\"productImage\"\r\n                  className=\"form-control-file\"\r\n                  ref={register({ required: true })}\r\n                  multiple\r\n                />\r\n                {errors.productImage && (\r\n                  <div className=\"text-danger\">\r\n                    Please enter product image .\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n            <div className=\"input-field mt-3\">\r\n              <div className=\"form-group\">\r\n                <label>Description</label>\r\n                <textarea\r\n                  className=\"form-control\"\r\n                  rows=\"5\"\r\n                  cols=\"5\"\r\n                  ref={register({ required: true })}\r\n                  name=\"description\"\r\n                ></textarea>\r\n              </div>\r\n\r\n              {errors.description && (\r\n                <div className=\"text-danger\">Please enter description.</div>\r\n              )}\r\n            </div>\r\n\r\n            <div className=\"input-field\">\r\n              <label>Price</label>\r\n              <div className=\"form-group\">\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"price\"\r\n                  className=\"input form-control\"\r\n                  ref={register({ required: true })}\r\n                />\r\n                {errors.price && (\r\n                  <div className=\"text-danger\">Please enter your price.</div>\r\n                )}\r\n              </div>\r\n            </div>\r\n            <div className=\"input-field\">\r\n              <label>Longitude</label>\r\n              <div className=\"form-group\">\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"lng\"\r\n                  className=\"input form-control\"\r\n                  ref={register({ required: true })}\r\n                />\r\n                {errors.price && (\r\n                  <div className=\"text-danger\">\r\n                    Please enter your Longitude.\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n            <div className=\"input-field\">\r\n              <label>Latitude</label>\r\n              <div className=\"form-group\">\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"lat\"\r\n                  className=\"input form-control\"\r\n                  ref={register({ required: true })}\r\n                />\r\n                {errors.price && (\r\n                  <div className=\"text-danger\">Please enter your Latitude.</div>\r\n                )}\r\n              </div>\r\n            </div>\r\n            <button className=\"btn btn-success\" type=\"submit\">\r\n              Save Product\r\n            </button>\r\n            <div className=\"input-field mt-3\">\r\n              <div className=\"form-group\">\r\n                <button className=\"btn\" onClick={logout}>\r\n                  Logout\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n      <div className=\"login__image-group\">\r\n        <img\r\n          className=\"login__image\"\r\n          src=\"/images/undraw_online_payments_luau.svg\"\r\n          alt=\"login.png\"\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Product;\r\n","C:\\Users\\hp\\Desktop\\project2\\react-express-project\\backend\\client\\src\\components\\Registration\\Register.jsx",[],"C:\\Users\\hp\\Desktop\\project2\\react-express-project\\backend\\client\\src\\components\\PrivateRoutes\\PrivateRoutes.jsx",[],"C:\\Users\\hp\\Desktop\\project2\\react-express-project\\backend\\client\\src\\components\\Map\\MainMap.jsx",["75","76","77","78"],"import React, { useState, useEffect } from 'react';\r\nimport {\r\n  GoogleMap,\r\n  useLoadScript,\r\n  Marker,\r\n  InfoWindow,\r\n} from '@react-google-maps/api';\r\nimport Auth from '../../Auth';\r\nimport { useHistory } from 'react-router-dom';\r\nimport './mapStyle.scss';\r\nimport NavigationMenu from '../NavigationMenu/NavigationMenu';\r\nimport Hamburger from '../Hamburger/Hamburger';\r\nimport SideBar from '../SideBar/SideBar';\r\nimport axios from 'axios';\r\n\r\nimport { Image } from 'cloudinary-react';\r\nimport { Link } from 'react-router-dom';\r\nrequire('dotenv').config({path: __dirname + '/../.env'});\r\nconst MainMap = () => {\r\n  const [markers, setMarkers] = useState([]);\r\n  const [selected, setSelected] = useState(null);\r\n  const [navClicked, setNavClicked] = useState(false);\r\n  const [display, setDisplay] = useState('');\r\n  const [role, setRole] = useState('');\r\n  const [imageIDs, setImageIDs] = useState();\r\n  const history = useHistory();\r\n\r\n  const returnImageIds = async () => {\r\n    const array = [];\r\n    const imgIDS = await axios.get('/api/images');\r\n    console.log();\r\n    setImageIDs(imgIDS.data);\r\n    const secondResult = await axios.get('/api/coords');\r\n  };\r\n\r\n  const navMenuClicked = () => {\r\n    navClicked ? setNavClicked(false) : setNavClicked(true);\r\n    display === '' ? setDisplay('display') : setDisplay('');\r\n  };\r\n  useEffect(() => {\r\n    const config = {\r\n      headers: {\r\n        'x-access-token': localStorage.getItem('x-access-token'),\r\n      },\r\n    };\r\n    axios.get('/api/user', config).then((res) => {\r\n      setRole(res.data.role);\r\n      if (role === 'customer') {\r\n        history.push('/map');\r\n      }\r\n      if (role === 'business') {\r\n        history.push('/product');\r\n      } else {\r\n        history.push('/');\r\n      }\r\n    });\r\n    returnImageIds();\r\n  }, [role, history]);\r\n  const logout = () => {\r\n    localStorage.removeItem('x-access-token');\r\n    history.push('/login');\r\n  };\r\n  const onMapClick = React.useCallback((e) => {\r\n    setMarkers((current) => [\r\n      ...current,\r\n      {\r\n        lat: e.latLng.lat(),\r\n        lng: e.latLng.lng(),\r\n        time: new Date(),\r\n      },\r\n    ]);\r\n  }, []);\r\n  const libraries = ['places'];\r\n  const mapContainerStyle = {\r\n    height: '100%',\r\n    width: '100%',\r\n  };\r\n  const center = {\r\n    lat: 6.6194,\r\n    lng: 3.5105,\r\n  };\r\n  const options = {\r\n    disableDefaultUI: true,\r\n    zoomControl: true,\r\n  };\r\n\r\n  <Image\r\n    key={'2'}\r\n    cloudName=\"dtof2ye7q\"\r\n    publicId={'dev/9053bc8d-5df0-4993-8765-9387978a8c77'}\r\n    width={'100'}\r\n    crop={'scale'}\r\n  />;\r\n\r\n  const { isLoaded, loadError } = useLoadScript({\r\n    googleMapsApiKey: process.env.REACT_APP_GOOGLE_MAPS_API_KEY,\r\n    libraries,\r\n  });\r\n  if (loadError) return 'Error loading maps';\r\n  if (!isLoaded) return 'Loading maps';\r\n  console.log(role);\r\n  return (\r\n    <div>\r\n      {/* {imageIds &&\r\n        imageIds.map((ids, i) => (\r\n          <Image\r\n            key={i}\r\n            cloudName=\"dtof2ye7q\"\r\n            publicId={'dev/9053bc8d-5df0-4993-8765-9387978a8c77'}\r\n            width={'100'}\r\n            crop={'scale'}\r\n          />\r\n        ))} */}\r\n\r\n      {navClicked ? <NavigationMenu backArrow={navMenuClicked} /> : null}\r\n      <div className=\"map\">\r\n        <div className=\"map__columns\">\r\n          <div className=\"map__item\">\r\n            {role ? (\r\n              <Hamburger display={display} navMenuClicked={navMenuClicked} />\r\n            ) : null}\r\n            {role ? null : <SideBar />}\r\n          </div>\r\n        </div>\r\n        <div className=\"map__columns\">\r\n          <GoogleMap\r\n            mapContainerStyle={mapContainerStyle}\r\n            zoom={8}\r\n            center={center}\r\n            options={options}\r\n            onClick={onMapClick}\r\n          >\r\n            {Auth.getLoggedInStatus()\r\n              ? markers.map((marker) => (\r\n                  <Marker\r\n                    key={marker.time.toISOString()}\r\n                    position={{ lat: marker.lat, lng: marker.lng }}\r\n                    onClick={() => {\r\n                      setSelected(marker);\r\n                    }}\r\n                   \r\n                  />\r\n                ))\r\n              : null}\r\n\r\n            {selected ? (\r\n              <InfoWindow\r\n                position={{\r\n                  lat: Number(selected.lat),\r\n                  lng: Number(selected.lng),\r\n                }}\r\n                onCloseClick={() => setSelected(null)}\r\n              >\r\n                <div>HI</div>\r\n              </InfoWindow>\r\n            ) : null}\r\n          </GoogleMap>\r\n        </div>\r\n        {localStorage.getItem('x-access-token') ? (\r\n          <button\r\n            style={{ position: 'absolute', top: '0', left: '80%' }}\r\n            onClick={logout}\r\n            className=\"btn btn-primary\"\r\n          >\r\n            Logout\r\n          </button>\r\n        ) : null}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MainMap;\r\n","C:\\Users\\hp\\Desktop\\project2\\react-express-project\\backend\\client\\src\\Auth.js",[],"C:\\Users\\hp\\Desktop\\project2\\react-express-project\\backend\\client\\src\\components\\NavigationMenu\\links.js",[],"C:\\Users\\hp\\Desktop\\project2\\react-express-project\\backend\\client\\src\\components\\Buttons\\Button.jsx",[],"C:\\Users\\hp\\Desktop\\project2\\react-express-project\\backend\\client\\src\\components\\NavigationMenu\\NavItem\\NavItem.jsx",[],"C:\\Users\\hp\\Desktop\\project2\\react-express-project\\backend\\client\\src\\components\\NavigationMenu\\NavigationMenu.jsx",[],"C:\\Users\\hp\\Desktop\\project2\\react-express-project\\backend\\client\\src\\components\\SideBar\\SideBar.jsx",[],["79","80"],"C:\\Users\\hp\\Desktop\\project2\\react-express-project\\backend\\client\\src\\components\\Hamburger\\Hamburger.jsx",[],{"ruleId":"81","replacedBy":"82"},{"ruleId":"83","replacedBy":"84"},{"ruleId":"85","severity":1,"message":"86","line":9,"column":20,"nodeType":"87","messageId":"88","endLine":9,"endColumn":31},{"ruleId":"85","severity":1,"message":"89","line":11,"column":16,"nodeType":"87","messageId":"88","endLine":11,"endColumn":25},{"ruleId":"85","severity":1,"message":"90","line":17,"column":10,"nodeType":"87","messageId":"88","endLine":17,"endColumn":14},{"ruleId":"85","severity":1,"message":"91","line":25,"column":10,"nodeType":"87","messageId":"88","endLine":25,"endColumn":18},{"ruleId":"85","severity":1,"message":"92","line":29,"column":11,"nodeType":"87","messageId":"88","endLine":29,"endColumn":16},{"ruleId":"85","severity":1,"message":"93","line":33,"column":11,"nodeType":"87","messageId":"88","endLine":33,"endColumn":23},{"ruleId":"81","replacedBy":"94"},{"ruleId":"83","replacedBy":"95"},"no-native-reassign",["96"],"no-negated-in-lhs",["97"],"no-unused-vars","'setNavItems' is assigned a value but never used.","Identifier","unusedVar","'setErrors' is assigned a value but never used.","'Link' is defined but never used.","'imageIDs' is assigned a value but never used.","'array' is assigned a value but never used.","'secondResult' is assigned a value but never used.",["96"],["97"],"no-global-assign","no-unsafe-negation"]